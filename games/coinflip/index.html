<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Coin Flip 3D</title>
  <style>
    body {
      margin: 0;
      background: radial-gradient(circle at center, #000, #002);
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: white;
      font-family: sans-serif;
      text-align: center;
    }
    canvas {
      border-radius: 50%;
      box-shadow: 0 0 40px cyan;
    }
    button {
      position: absolute;
      bottom: 40px;
      background: cyan;
      border: none;
      color: black;
      padding: 10px 20px;
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <canvas id="coin" width="200" height="200"></canvas>
  <button id="flipBtn">FLIP</button>

  <script>
    const canvas = document.getElementById("coin");
    const ctx = canvas.getContext("2d");
    let angle = 0, flipping = false, side = "H";

    function drawCoin() {
      ctx.clearRect(0,0,200,200);
      ctx.save();
      ctx.translate(100,100);
      ctx.rotate(Math.sin(angle)*0.4);
      const scale = Math.abs(Math.cos(angle));
      const gradient = ctx.createRadialGradient(0,0,30,0,0,100);
      gradient.addColorStop(0,"#00ffff");
      gradient.addColorStop(1,"#004040");
      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.ellipse(0,0,90,90*scale,0,0,Math.PI*2);
      ctx.fill();
      ctx.fillStyle = "#fff";
      ctx.font = `${50*scale}px Arial Black`;
      ctx.textAlign="center";
      ctx.textBaseline="middle";
      ctx.fillText(side,0,0);
      ctx.restore();
    }

    function animate() {
      if(flipping){
        angle += 0.2;
        if(angle > Math.PI*2){
          angle = 0;
          flipping = false;
          side = (Math.random()<0.5)?"H":"T";
        }
      }
      drawCoin();
      requestAnimationFrame(animate);
    }

    document.getElementById("flipBtn").onclick = ()=> flipping = true;
    animate();
  </script>
</body>
</html>
